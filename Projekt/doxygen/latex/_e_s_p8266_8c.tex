\hypertarget{_e_s_p8266_8c}{}\doxysection{E\+S\+P8266lib/\+E\+S\+P8266.c File Reference}
\label{_e_s_p8266_8c}\index{ESP8266lib/ESP8266.c@{ESP8266lib/ESP8266.c}}
{\ttfamily \#include $<$avr/io.\+h$>$}\newline
{\ttfamily \#include $<$util/delay.\+h$>$}\newline
{\ttfamily \#include $<$stdbool.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$avr/interrupt.\+h$>$}\newline
{\ttfamily \#include \char`\"{}U\+S\+A\+R\+T/\+U\+S\+A\+R\+T\+\_\+\+R\+S232\+\_\+\+H\+\_\+file.\+h\char`\"{}}\newline
{\ttfamily \#include \char`\"{}E\+S\+P8266.\+h\char`\"{}}\newline
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{_e_s_p8266_8c_a43bafb28b29491ec7f871319b5a3b2f8}{F\+\_\+\+C\+PU}}~16000000\+UL
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{group___e_s_p8266_ga2d6e85eb98d8670ad4031914786f2050}{Read\+\_\+\+Response}} (char $\ast$\+\_\+\+Expected\+\_\+\+Response)
\item 
void \mbox{\hyperlink{group___e_s_p8266_ga233da09cb45069e46cecce2a4f3703d9}{E\+S\+P8266\+\_\+\+Clear}} ()
\item 
void \mbox{\hyperlink{group___e_s_p8266_ga4ad4af30f6c487654beb9cd173765479}{Start\+\_\+\+Read\+\_\+\+Response}} (char $\ast$\+\_\+\+Expected\+Response)
\item 
void \mbox{\hyperlink{group___e_s_p8266_ga59c664e4497c24d54a7c5442a0d3e42b}{Get\+Response\+Body}} (char $\ast$Response, uint16\+\_\+t Response\+Length)
\item 
bool \mbox{\hyperlink{group___e_s_p8266_ga6fe24d03669f3faf3a6e1d6010d8e736}{Wait\+For\+Expected\+Response}} (char $\ast$Expected\+Response)
\begin{DoxyCompactList}\small\item\em Wait\+For\+Expected\+Response is used after the Send\+A\+Tand\+Expect\+Response, its used to wait for a certain string being send by the E\+S\+P8266. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{group___e_s_p8266_ga7ca8294d1bfa0705a0551f317b557665}{Send\+A\+Tand\+Expect\+Response}} (char $\ast$A\+T\+Command, char $\ast$Expected\+Response)
\begin{DoxyCompactList}\small\item\em Send\+A\+Tand\+Expect\+Response sends a certain AT command to the E\+S\+P8266 and there after uses the Wait\+For\+Expected\+Response to wait until a certain message has been send by the E\+S\+P8266. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{group___e_s_p8266_ga633d810fa938833760458a364be50004}{E\+S\+P8266\+\_\+\+Application\+Mode}} (uint8\+\_\+t Mode)
\begin{DoxyCompactList}\small\item\em E\+S\+P8266\+\_\+\+Application\+Mode Sets the transmission mode that should be used can be either N\+O\+R\+M\+AL or T\+R\+A\+N\+S\+P\+E\+R\+A\+NT check datasheet page 55. Calls the A\+T+\+C\+I\+P\+M\+O\+DE command to the E\+S\+P8266. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{group___e_s_p8266_gaf7a85960a72f1a06d8d5d49d1feded7a}{E\+S\+P8266\+\_\+\+Connection\+Mode}} (uint8\+\_\+t Mode)
\begin{DoxyCompactList}\small\item\em E\+S\+P8266\+\_\+\+Connection\+Mode Set the connection mode that should be used This decides how many connections, there are allowed to be. If hosting your own server on the device this need to be set to M\+U\+L\+T\+I\+P\+LE, otherwise just use S\+I\+N\+G\+LE, as long as you are sure only one request is running at a time. Page 53 Calls the A\+T+\+C\+I\+P\+M\+UX command to the E\+S\+P8266. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{group___e_s_p8266_ga0ce4ebfba131948b88e825ef1261f2ff}{E\+S\+P8266\+\_\+\+Begin}} ()
\item 
bool \mbox{\hyperlink{group___e_s_p8266_ga438cc2167e11f3cf7911e4effc14ab03}{E\+S\+P8266\+\_\+\+Close}} ()
\item 
bool \mbox{\hyperlink{group___e_s_p8266_ga8966ec92a915f8a2444cab2accb880d5}{E\+S\+P8266\+\_\+\+W\+I\+F\+I\+Mode}} (uint8\+\_\+t \+\_\+mode)
\begin{DoxyCompactList}\small\item\em E\+S\+P8266\+\_\+\+W\+I\+F\+I\+Mode sets the wifi mode that should be used This decides weather you want to act as its own AP or connect to an already existing one. You can also use it as both at the same time. S\+T\+A\+T\+I\+ON if you want to connect to W\+I\+FI A\+C\+C\+E\+S\+S\+P\+O\+I\+NT if you want it to act as an Access point B\+O\+T\+H\+\_\+\+S\+T\+A\+T\+I\+O\+N\+\_\+\+A\+N\+D\+\_\+\+A\+C\+C\+E\+S\+P\+O\+I\+NT is you want it to act as both Page 19 Calls the A\+T+\+C\+W\+M\+O\+DE command to the E\+S\+P8266. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{group___e_s_p8266_ga75f4d29dfb832d9bcb98ad6f4133ac66}{E\+S\+P8266\+\_\+\+Start\+Server}} (uint8\+\_\+t \+\_\+port)
\begin{DoxyCompactList}\small\item\em E\+S\+P8266\+\_\+\+Start\+Server starts a T\+CP server on a given Port This starts the internal T\+CP server on a given port page 54 Calls the A\+T+\+C\+I\+P\+S\+E\+R\+V\+ER command to the E\+S\+P8266. \end{DoxyCompactList}\item 
bool \mbox{\hyperlink{group___e_s_p8266_gad734517d579b45784024cc2e75169945}{E\+S\+P8266\+\_\+\+Stop\+Server}} ()
\begin{DoxyCompactList}\small\item\em E\+S\+P8266\+\_\+\+Stop\+Server stops the started T\+CP server page 54 Calls the A\+T+\+C\+I\+P\+S\+E\+R\+V\+ER command to the E\+S\+P8266. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{group___e_s_p8266_ga890452a7455a321fc0bf36ec113e030a}{E\+S\+P8266\+\_\+\+Join\+Access\+Point}} (char $\ast$\+\_\+\+S\+S\+ID, char $\ast$\+\_\+\+P\+A\+S\+S\+W\+O\+RD)
\begin{DoxyCompactList}\small\item\em E\+S\+P8266\+\_\+\+Join\+Access\+Point joins the given access point This is used to connect to a certain wifi page 22 Calls the A\+T+\+C\+W\+J\+AP,\char`\"{}\+\_\+\+S\+S\+I\+D\char`\"{},\char`\"{}\+\_\+\+P\+A\+S\+S\+W\+O\+R\+D\char`\"{}. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{group___e_s_p8266_gaf186c5749e91496493fe9b5f5a2da05a}{E\+S\+P8266\+\_\+connected}} ()
\item 
uint8\+\_\+t \mbox{\hyperlink{group___e_s_p8266_ga12d647d4039db6d1147ae03e0fb4b1f7}{E\+S\+P8266\+\_\+\+Start}} (uint8\+\_\+t \+\_\+\+Connection\+Number, char $\ast$Domain, char $\ast$Port)
\begin{DoxyCompactList}\small\item\em E\+S\+P8266\+\_\+\+Start connects to a certain IP and port over T\+CP Connect to a given T\+CP server page 46 Calls the A\+T+\+C\+I\+P\+S\+Ta\+RT=\char`\"{}\+T\+C\+P\char`\"{},\char`\"{}\+Domain\char`\"{},Port. \end{DoxyCompactList}\item 
uint8\+\_\+t \mbox{\hyperlink{group___e_s_p8266_ga0434874898a75fb5909f13c8e3017199}{E\+S\+P8266\+\_\+\+Send}} (char $\ast$Data)
\begin{DoxyCompactList}\small\item\em E\+S\+P8266\+\_\+\+Send sends data to a previously established connection Sends the given data to the already established conenction. Takes the data and calculates the byte length, this is then sent to the A\+T+\+C\+I\+P\+S\+E\+ND command. After that it sends the given data page 47. \end{DoxyCompactList}\item 
int16\+\_\+t \mbox{\hyperlink{group___e_s_p8266_gab751b2cc586fb940ecea95e890aa2a5b}{E\+S\+P8266\+\_\+\+Data\+Available}} ()
\item 
uint8\+\_\+t \mbox{\hyperlink{group___e_s_p8266_ga9618a089d44249fc792a7e166429e9bb}{E\+S\+P8266\+\_\+\+Data\+Read}} ()
\item 
uint16\+\_\+t \mbox{\hyperlink{group___e_s_p8266_ga889a79534730380a31b630d00ee359b8}{Read\+\_\+\+Data}} (char $\ast$\+\_\+buffer)
\item 
\mbox{\hyperlink{_e_s_p8266_8c_ae6e8a8009a9ae0c59f25a496d1cf5a84}{I\+SR}} (U\+S\+A\+R\+T1\+\_\+\+R\+X\+\_\+vect)
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
int8\+\_\+t \mbox{\hyperlink{_e_s_p8266_8c_a31161d41287288d93be3cc9774cb61f4}{Response\+\_\+\+Status}}
\item 
volatile int16\+\_\+t \mbox{\hyperlink{_e_s_p8266_8c_a451432a65fc68821360f4a2e33270663}{Counter}} = 0
\item 
volatile int16\+\_\+t \mbox{\hyperlink{_e_s_p8266_8c_abba05676a2e800293a098267434f7eae}{pointer}} = 0
\item 
uint32\+\_\+t \mbox{\hyperlink{_e_s_p8266_8c_aff25728c5a4e8cf018fc78e0bc4cde59}{Time\+Out}} = 0
\item 
char \mbox{\hyperlink{_e_s_p8266_8c_a0bc81b1cc08b1f6e54ae0c2e0aadc346}{R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+B\+U\+F\+F\+ER}} \mbox{[}\mbox{\hyperlink{group___e_s_p8266_ga6e576a3c6530636d68b7a220480bcd32}{D\+E\+F\+A\+U\+L\+T\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE}}\mbox{]}
\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\mbox{\Hypertarget{_e_s_p8266_8c_a43bafb28b29491ec7f871319b5a3b2f8}\label{_e_s_p8266_8c_a43bafb28b29491ec7f871319b5a3b2f8}} 
\index{ESP8266.c@{ESP8266.c}!F\_CPU@{F\_CPU}}
\index{F\_CPU@{F\_CPU}!ESP8266.c@{ESP8266.c}}
\doxysubsubsection{\texorpdfstring{F\_CPU}{F\_CPU}}
{\footnotesize\ttfamily \#define F\+\_\+\+C\+PU~16000000\+UL}



Definition at line 16 of file E\+S\+P8266.\+c.



\doxysubsection{Function Documentation}
\mbox{\Hypertarget{_e_s_p8266_8c_ae6e8a8009a9ae0c59f25a496d1cf5a84}\label{_e_s_p8266_8c_ae6e8a8009a9ae0c59f25a496d1cf5a84}} 
\index{ESP8266.c@{ESP8266.c}!ISR@{ISR}}
\index{ISR@{ISR}!ESP8266.c@{ESP8266.c}}
\doxysubsubsection{\texorpdfstring{ISR()}{ISR()}}
{\footnotesize\ttfamily I\+SR (\begin{DoxyParamCaption}\item[{U\+S\+A\+R\+T1\+\_\+\+R\+X\+\_\+vect}]{ }\end{DoxyParamCaption})}



Definition at line 276 of file E\+S\+P8266.\+c.



\doxysubsection{Variable Documentation}
\mbox{\Hypertarget{_e_s_p8266_8c_a451432a65fc68821360f4a2e33270663}\label{_e_s_p8266_8c_a451432a65fc68821360f4a2e33270663}} 
\index{ESP8266.c@{ESP8266.c}!Counter@{Counter}}
\index{Counter@{Counter}!ESP8266.c@{ESP8266.c}}
\doxysubsubsection{\texorpdfstring{Counter}{Counter}}
{\footnotesize\ttfamily volatile int16\+\_\+t Counter = 0}



Definition at line 19 of file E\+S\+P8266.\+c.

\mbox{\Hypertarget{_e_s_p8266_8c_abba05676a2e800293a098267434f7eae}\label{_e_s_p8266_8c_abba05676a2e800293a098267434f7eae}} 
\index{ESP8266.c@{ESP8266.c}!pointer@{pointer}}
\index{pointer@{pointer}!ESP8266.c@{ESP8266.c}}
\doxysubsubsection{\texorpdfstring{pointer}{pointer}}
{\footnotesize\ttfamily volatile int16\+\_\+t pointer = 0}



Definition at line 19 of file E\+S\+P8266.\+c.

\mbox{\Hypertarget{_e_s_p8266_8c_a0bc81b1cc08b1f6e54ae0c2e0aadc346}\label{_e_s_p8266_8c_a0bc81b1cc08b1f6e54ae0c2e0aadc346}} 
\index{ESP8266.c@{ESP8266.c}!RESPONSE\_BUFFER@{RESPONSE\_BUFFER}}
\index{RESPONSE\_BUFFER@{RESPONSE\_BUFFER}!ESP8266.c@{ESP8266.c}}
\doxysubsubsection{\texorpdfstring{RESPONSE\_BUFFER}{RESPONSE\_BUFFER}}
{\footnotesize\ttfamily char R\+E\+S\+P\+O\+N\+S\+E\+\_\+\+B\+U\+F\+F\+ER\mbox{[}\mbox{\hyperlink{group___e_s_p8266_ga6e576a3c6530636d68b7a220480bcd32}{D\+E\+F\+A\+U\+L\+T\+\_\+\+B\+U\+F\+F\+E\+R\+\_\+\+S\+I\+ZE}}\mbox{]}}



Definition at line 21 of file E\+S\+P8266.\+c.

\mbox{\Hypertarget{_e_s_p8266_8c_a31161d41287288d93be3cc9774cb61f4}\label{_e_s_p8266_8c_a31161d41287288d93be3cc9774cb61f4}} 
\index{ESP8266.c@{ESP8266.c}!Response\_Status@{Response\_Status}}
\index{Response\_Status@{Response\_Status}!ESP8266.c@{ESP8266.c}}
\doxysubsubsection{\texorpdfstring{Response\_Status}{Response\_Status}}
{\footnotesize\ttfamily int8\+\_\+t Response\+\_\+\+Status}



Definition at line 18 of file E\+S\+P8266.\+c.

\mbox{\Hypertarget{_e_s_p8266_8c_aff25728c5a4e8cf018fc78e0bc4cde59}\label{_e_s_p8266_8c_aff25728c5a4e8cf018fc78e0bc4cde59}} 
\index{ESP8266.c@{ESP8266.c}!TimeOut@{TimeOut}}
\index{TimeOut@{TimeOut}!ESP8266.c@{ESP8266.c}}
\doxysubsubsection{\texorpdfstring{TimeOut}{TimeOut}}
{\footnotesize\ttfamily uint32\+\_\+t Time\+Out = 0}



Definition at line 20 of file E\+S\+P8266.\+c.

